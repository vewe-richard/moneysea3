核心算法 eq



1. 股价偏离算法
股价偏离，即当前股价和其真实价值的偏离。
推算股价偏离，可以帮助我们更好地选择股票，股价高于真实价值，则应该卖出，而股价低于真实价值，则应该买入。
无论短期炒作或者长期持有，都应该认真评估股票偏离值。

1.1 股票的真实价值
股票的真实价值和其内在价值，以及未来价值有关。
本算法用每股收益来指示其内在价值，用净利率增长预期来指示股票的未来价值

1.1.1 股票真实价值的计算
. 假定某只股票，在净利润不增长的情况下。每股收益率（每股收益率/当前股价）达到<p>, 人们才有持有热情，否则宁可放银行。
. 假定某只股票，n年净利润持续增长, 增长率 <a>，n年后停止增长, 当前的股价怎样才合理？即考虑增长后，股票的真实价值是多少？

  假设当前股票的真实价值为 <q>, n年后股票的真实价值为 <Q>
  ((Q/q) ** (1/n)) - 1 > p    # 即股票的真实价值每年增长率 > p, 人们才有投资热情 ------ (1)
  
  n年后，每股收益 = e(当前每股收益) * ((1+a)**n) => Q = (e * ((1+a)**n))/p

  把Q代入式子 (1)
  e/q = (((p+1)/(a+1))**n) * p  ------ (2)

. 式2的验证
  选择增长为横坐标，股息率为纵坐标
  根据大量的股票数据，画点
  选择和式2较好拟合的参数

  通过拟合比较，有助于确定，n,p值，以及增长率的推算方式 ------ TODO

. 关于n,p值
  感性估计，p为10%，n为5年
  实际上，np值跟整体环境相关性很大，市场预期牛市的时候，p值变小，n值变大；市场预期熊市的时候，p值大，n值小
  另外对于不同行业，或者不同板块，n值的差别也是存在的, 比如医药行业，比较长久，所以n值大
  所以，对不同行业分类有各自的np值，同时存在一个全局的调整系数，根据大环境进行变化

1.2 股价偏离值
股票偏离值，即 delta = q - price ------ (3)
即股票的真实价值减去目前的市场价

1.3 股价偏离度
股价偏离度，即 dratio = delta / price = (q - price)/price ------ (4)
股票偏离度越大，买入价值越高，当价值调整回到真实价值，就可以考虑抛出


